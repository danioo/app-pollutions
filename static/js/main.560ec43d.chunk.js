(this.webpackJsonppollutions=this.webpackJsonppollutions||[]).push([[0],{31:function(n,t,e){n.exports=e(57)},36:function(n,t,e){},57:function(n,t,e){"use strict";e.r(t);var a=e(0),o=e.n(a),r=e(20),i=e.n(r),c=(e(36),e(4)),u=e(21),l=e(22),s=e(27),f=e(23),p=e(28),h=e(2),d=e(3);function m(){var n=Object(h.a)(["\n    width: 40%;\n    height: 100%;\n    padding: 20px;\n    border: 0;\n    font-size: 25px;\n    font-weight: 300;\n    border-bottom: 3px solid #C8CCD4;\n    transition: all .150s ease;\n    background-color: white;\n    text-align: center;\n    &:focus {\n        outline: none\n        box-shadow: 0px 0px 40px #B7B7B7;\n    }\n"]);return m=function(){return n},n}function g(){var n=Object(h.a)(["\n    width: 100%;\n    height: 35px;\n    font-weight: 300;\n    font-size: 20px;\n    cursor: pointer;\n    text-align: center;\n    margin: 0;\n    padding: 0;\n    &:hover {\n        background-color: #f2f2f2;\n        font-weight: 400;\n    }\n    &:first-child {\n        padding-top: 5px;\n    }\n"]);return g=function(){return n},n}function b(){var n=Object(h.a)(["\n    width: 40%;\n    position: relative;\n    background-color: white;\n    box-shadow: 0px 0px 40px #B7B7B7;\n    z-index: 100;\n    list-style-type: none;\n    top:10px;\n    margin-block:0; \n    margin-inline:0;\n    padding-block:0; \n    padding-inline:0; \n"]);return b=function(){return n},n}var v=d.a.ul(b()),x=d.a.li(g()),w=d.a.input(m()),j=function(n){var t=n.hintsList,e=n.onInputFocus,a=n.onInputChange,r=n.onHintClick,i=n.value;return o.a.createElement(o.a.Fragment,null,o.a.createElement(w,{onFocus:e,onChange:a,value:i}),t&&o.a.createElement(v,null,t.map((function(n,t){return o.a.createElement(x,{key:t,onClick:function(){return r(n.name)}},n.name)}))))},O=e(9),k=function(n){function t(){var n,e;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=Object(s.a)(this,(n=Object(f.a)(t)).call.apply(n,[this].concat(o)))).state={hints:"",search:""},e.filterHints=function(n){return O.countries.filter((function(t){return t.name.toLowerCase().includes(n.toLowerCase())}))},e.onInputChange=function(n){e.setState({search:n.target.value,hints:e.filterHints(n.target.value)}),localStorage.setItem("searchValue",n.target.value)},e.onInputFocus=function(){e.setState({hints:e.filterHints(e.state.search)})},e.onHintClick=function(n){e.setState({hints:[],search:n}),localStorage.setItem("searchValue",n);var t=O.countries.find((function(t){return t.name===n})).code;e.props.getCitiesList(t)},e}return Object(p.a)(t,n),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({search:localStorage.getItem("searchValue")})}},{key:"render",value:function(){return o.a.createElement(j,{onInputFocus:this.onInputFocus,onInputChange:this.onInputChange,hintsList:this.state.hints,onHintClick:this.onHintClick,value:this.state.search})}}]),t}(a.Component),E=e(5),y=e.n(E);function C(){var n=Object(h.a)(["\n    background-color: white;\n    padding: 10px;\n"]);return C=function(){return n},n}function S(){var n=Object(h.a)(["\n    font-weight: 500;\n    background-color: white;\n\n"]);return S=function(){return n},n}function I(){var n=Object(h.a)(["\n    background-color: white;\n    width: 180px;\n    height: 60%;\n    padding: 0 15px;\n    display:flex;\n    align-items: center;\n    justify-content: space-between;\n    border-bottom: 3px solid #C8CCD4;\n    margin-top:15px;\n"]);return I=function(){return n},n}function F(){var n=Object(h.a)(["\n    font-family: 'Roboto Mono', monospace;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    max-width: 80%;\n    cursor: pointer;\n"]);return F=function(){return n},n}var B=d.a.div(F()),H=d.a.div(I()),L=d.a.h3(S()),D=d.a.div(C()),z=function(n){var t=Object(a.useState)(!1),e=Object(c.a)(t,2),r=e[0],i=e[1],u=Object(a.useState)([]),l=Object(c.a)(u,2),s=l[0],f=l[1];Object(a.useEffect)((function(){var t;(t=n.name,y.a.get("https://en.wikipedia.org/w/api.php?format=json&action=query&prop=extracts&exintro&explaintext&redirects=1&origin=*&titles=".concat(t)).then((function(n){return n.data.query.pages})).catch((function(n){console.log(n)}))).then((function(n){var t=Object.values(n);f(t[0].extract)}))}),[n.name]);var p=s||o.a.createElement("p",null,"City Description not found");return o.a.createElement(B,{onClick:function(){return i(!r)}},o.a.createElement(H,null,o.a.createElement(L,null,n.name),r?o.a.createElement("i",{className:"fas fa-caret-up"}):o.a.createElement("i",{className:"fas fa-caret-down"})),r&&o.a.createElement(D,null,p))},M=function(n){return n.cities.map((function(n,t){return o.a.createElement(z,{key:t,name:n})}))};function q(){var n=Object(h.a)(["\n    color: black;\n    text-align: center;\n    font-size: 3rem;\n    padding-top: 2rem;\n    font-family: 'Roboto Mono', monospace;\n    "]);return q=function(){return n},n}function J(){var n=Object(h.a)(["\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n\n"]);return J=function(){return n},n}function N(){var n=Object(h.a)(["\n    max-width: 100vw;\n    height: 100vh;\n    background-color: #EBEFF2;\n    overflow: auto;\n"]);return N=function(){return n},n}var R=d.a.div(N()),V=d.a.div(J()),P=d.a.h1(q()),T=e(26),W=function(n){return y.a.get("https://api.openaq.org/v1/latest?country=".concat(n,"&order_by=measurements[0].value&sort=desc&parameter=pm25")).then((function(n){return Object(T.a)(new Set(n.data.results.map((function(n){return n.city})))).slice(0,10)})).catch((function(n){console.log(n)}))};var A=function(){var n=Object(a.useState)(!1),t=Object(c.a)(n,2),e=t[0],r=t[1],i=Object(a.useState)([]),u=Object(c.a)(i,2),l=u[0],s=u[1];return o.a.createElement(R,null,o.a.createElement(V,null,o.a.createElement(P,null,"The MOST polluted cities:"),o.a.createElement(k,{getCitiesList:function(n){r(!0),W(n).then((function(n){s(n),r(!1)}))}}),!e&&o.a.createElement(M,{cities:l})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))},9:function(n){n.exports=JSON.parse('{"countries":[{"name":"Poland","code":"PL"},{"name":"Germany","code":"DE"},{"name":"Spain","code":"ES"},{"name":"France","code":"FR"}]}')}},[[31,1,2]]]);
//# sourceMappingURL=main.560ec43d.chunk.js.map